–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω—É–∂–µ–Ω –≤—Å–µ–≥–¥–∞, –∫–æ–≥–¥–∞ –∫–ª–∞—Å—Å –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑–æ–≤–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ).

üö©–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä?

–ï—Å–ª–∏ —É –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π, –∞ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è! –≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —É—Ç–µ—á–∫–µ –ø–∞–º—è—Ç–∏ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤.
–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
```c++
#include <iostream>

class Base {
public:
    ~Base() { std::cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Base\n"; } // –ù–ï –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π!
};

class Derived : public Base {
public:
    ~Derived() { std::cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Derived\n"; }
};

int main() {
    Base* obj = new Derived();
    delete obj; // –ü—Ä–æ–±–ª–µ–º–∞! –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Derived –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è!
}
```

```
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Base
```

üö©–†–µ—à–µ–Ω–∏–µ: —Å–¥–µ–ª–∞—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º

–ï—Å–ª–∏ –æ–±—ä—è–≤–∏—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º (virtual), —Ç–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Ü–µ–ø–Ω–æ–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ–º virtual
```C++
class Base {
public:
    virtual ~Base() { std::cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Base\n"; } // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π!
};

class Derived : public Base {
public:
    ~Derived() { std::cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Derived\n"; }
};

int main() {
    Base* obj = new Derived();
    delete obj; // –¢–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –æ–±–∞ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
}
```

```
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Derived
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Base
```

üö©–ö–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º?

–ö–æ–≥–¥–∞ –∫–ª–∞—Å—Å –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è  
–ù–∞–ø—Ä–∏–º–µ—Ä, std::vector, std::string, std::unique_ptr ‚Äì —É –Ω–∏—Ö –Ω–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ö–æ–≥–¥–∞ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ/—É–∫–∞–∑–∞—Ç–µ–ª—é –Ω–∞ —Å–∞–º –∫–ª–∞—Å—Å, –∞ –Ω–µ –Ω–∞ –±–∞–∑–æ–≤—ã–π  
```C++
Derived* obj = new Derived();
delete obj; // –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –≤—ã–∑–æ–≤–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä
```

–ï—Å–ª–∏ –∫–ª–∞—Å—Å "–∑–∞–º–æ—Ä–æ–∂–µ–Ω" (final) 
```C++
class FinalClass final {
public:
   ~FinalClass() { std::cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä\n"; }
};
```

[[C++]]